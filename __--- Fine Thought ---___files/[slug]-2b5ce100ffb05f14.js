(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{6006:(e,t,s)=>{"use strict";var i=s(5364);s(1104),i.env.WORDPRESS_API_URL},7152:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSG:()=>d,default:()=>x});var i=s(7876),n=s(4232),l=s(9099);s(8230);var o=s(7328),a=s.n(o),h=s(3718),r=s(897),c=s(5177),p=s(200),u=s(1922);class m extends n.Component{componentDidMount(){this.doReadyCheck()}componentWillUnmount(){this.timerID&&clearTimeout(this.timerID),this.failSafeTimer&&clearTimeout(this.failSafeTimer),this.saveTabs()}componentDidUpdate(){this.doLayout()}saveTabs(){let e=this.context.openTabs,t=this.getTabIndex(this.state.tabSlug);!1===t&&(t=this.getTabIndex(this.props.post.tab_slug)),e[t].scrollPos=this.state.scrollPos,e[t].maxScrollPos=this.state.maxScrollPos,e[t].maxChar=this.state.maxChar,e[t].randCells=this.state.randCells,this.context.dimensions.screenMobile?this.context.setTabsMobile(e):this.context.setTabs(e)}getTabIndex(e){let t=this.context.openTabs,s=!1;for(let i=0;i<t.length;i++)t[i].slug===e&&(s=i);return s}doReadyCheck(){this.context.dimensions.dimensionsCalculated&&!1===this.state.layoutReady?(document.documentElement.classList.add("state-site-loaded"),setTimeout(()=>{this.context.setSiteLoaded(),this.doScroll(),this.doLayout(),this.timerID=setInterval(()=>{!1===this.state.pauseRender&&(this.state.pauseCurLoop<this.state.pauseMaxCheckLoops?this.setState({maxChar:this.state.maxChar+this.context.dimensions.charsPerFrame,pauseCurLoop:this.state.pauseCurLoop+1}):this.setState({pauseRender:!0}))},40),this.failSafeTimer=setInterval(()=>{this.containerRef&&this.containerRef.addEventListener("scroll",this.doScroll)},2e3)},500),this.setState({layoutReady:!0})):setTimeout(()=>{this.doReadyCheck()},40)}doScroll(e){if(this.containerRef){let t=this.context.dimensions,s=Math.round(this.containerRef.scrollTop/t.monoLineHeight)*t.monoLineHeight;s>this.state.containerHeight-1.25*t.contentHeight&&0!==this.state.containerHeight&&(s+=1.5*t.screenHeight);let i=Math.ceil((t.contentHeight+t.monoLineHeight+s)/t.monoLineHeight);if(s>this.state.maxScrollPos||!0===e||i>this.state.linesUsed){let t=this.state.startAnimationOffset;for(let s=0;s<i;s++)-1===t[s]&&(!0===e?t[s]=0:t[s]=this.state.maxChar+Math.floor(100*Math.random()));let n=this.state.maxScrollPos;n<s&&(n=s),this.setState({maxChar:this.state.maxChar+8,scrollPos:s,maxScrollPos:n,startAnimationOffset:t,pauseRender:!1,pauseCurLoop:0,linesUsed:i})}else s!==this.state.scrollPos&&this.setState({scrollPos:s})}}setRandCells(){let e=[];for(let t=0;t<5e3;t++){let s=Math.floor(20*Math.random());1===s?e[t]="dash":2===s?e[t]="star":3===s?e[t]="slash":4===s?e[t]="plus":s>=20-Math.floor(6)&&0!==t&&"space"!=e[t-1]?e[t]=e[t-1]:e[t]="space"}return e}getMediumBlockHeight(e,t){let s=this.context.dimensions;return s.mediumFontSize*e+(s.mediumLineHeight-s.mediumFontSize)*(e-1)+(s.mediumFontSpace-(s.mediumLineHeight-s.mediumFontSize))*t}clearRandCellsMediumBlock(e,t,s,i,n){let l=this.context.dimensions,o=t-(l.mediumLineHeight-l.mediumFontSize),a=t+n+(l.mediumLineHeight-l.mediumFontSize)*1,h=Math.round(s/l.asciiColWidth),r=h+Math.round(i/l.asciiColWidth),c=Math.floor(o/l.monoLineHeight),p=Math.floor(a/l.monoLineHeight);for(let t=c;t<p+1;t++)for(let s=h;s<r;s++)"image-empty"!==e[t*l.numCols+s]&&"all-image-empty"!==e[t*l.numCols+s]&&(t===c||t===p?s===h?e[t*l.numCols+s]="single-baseline":e[t*l.numCols+s]="all-single-baseline":s===h?e[t*l.numCols+s]="empty":e[t*l.numCols+s]="all-empty");return e}clearRandCellsLargeBlock(e,t,s,i){let n=this.context.dimensions,l=t-(n.largeLineHeight-n.largeFontSize),o=t+n.largeFontSize+.3*n.largeFontSize,a=Math.round(s/n.asciiColWidth),h=a+Math.round(i/n.asciiColWidth),r=Math.floor(l/n.monoLineHeight),c=Math.round(o/n.monoLineHeight);for(let t=r;t<c+1;t++)for(let s=0;s<n.numCols;s++){let i=t*n.numCols+s;"image-empty"!==e[i]&&"all-image-empty"!==e[i]&&(t===r||t===c||s>=a&&s<h&&(e[i]="empty"))}return e}getBlankCell(e,t,s){let i=this.state.randCellsLayout,n=this.state.baselineIndex,l=this.context.dimensions,o=s*l.numCols,a=[];if(a.push('<span role="presentation">'),-1!==this.state.startAnimationOffset[s]){let h=this.state.maxChar-s-this.state.startAnimationOffset[s];if(h>0){let r=0,c=1;if(e&&(c=e),t&&0!==l.remainingChars){let e=l.remainingChars;e>h-r&&(e=h-r),e>0&&(!0===n[s]&&"single-baseline"===i[o]?a.push(l.singleBaseline[e]):!0===n[s]&&"all-single-baseline"===i[o]?a.push(l.allSingleBaseline[e]):!0===n[s]?a.push(l.doubleBaseline[e]):"single-baseline"===i[o]?a.push(l.singleBaseline[e]):"all-single-baseline"===i[o]?a.push(l.allSingleBaseline[e]):"star"===i[o]?a.push(l.star[e]):"dash"===i[o]?a.push(l.dash[e]):"slash"===i[o]?a.push(l.slash[e]):"plus"===i[o]?a.push(l.plus[e]):a.push(l.space[e]),r+=e)}if(0!==c)for(let e=0;e<c;e++){let e=l.charsPerCol;e>h-r&&(e=h-r),e>0&&("all-image-empty"===i[o]?a.push(l.allEmpty[e]):"image-empty"===i[o]?a.push(l.empty[e]):!0===n[s]&&"single-baseline"===i[o]?a.push(l.singleBaseline[e]):!0===n[s]&&"all-single-baseline"===i[o]?a.push(l.allSingleBaseline[e]):!0===n[s]&&"empty"===i[o]?a.push(l.singleBaseline[e]):!0===n[s]&&"all-empty"===i[o]?a.push(l.allSingleBaseline[e]):!0===n[s]?a.push(l.doubleBaseline[e]):"single-baseline"===i[o]||"all-single-baseline"===i[o]||"single-baseline"===i[o]||"all-single-baseline"===i[o]?a.push(l.singleBaseline[e]):"all-empty"===i[o]?a.push(l.allEmpty[e]):"empty"===i[o]?a.push(l.empty[e]):"star"===i[o]?a.push(l.star[e]):"dash"===i[o]?a.push(l.dash[e]):"slash"===i[o]?a.push(l.slash[e]):"plus"===i[o]?a.push(l.plus[e]):a.push(l.space[e]),r+=l.charsPerCol),o++}}}return a.push("</span>"),a.join("")}getSingleLine(e,t,s,i,n,l,o){return this.context.dimensions,this.getCell([[e,l,t,s]],!0,i,n,o,!1)}getCell(e,t,s,i,n,l){let o=this.context.dimensions,a=this.state.randCellsLayout,h=this.state.baselineIndex,r=s*o.numCols,c=[];if(c.push('<span role="presentation">'),-1!==this.state.startAnimationOffset[s]){let l=this.state.maxChar-s-this.state.startAnimationOffset[s];if(l>0){let p=0,u=0;if(e&&e.length>0&&(u=e.length),t&&0!==o.remainingChars){let e=o.remainingChars;e>l-p&&(e=l-p),e>0&&(!0===h[s]&&"single-baseline"===a[r]?c.push(o.singleBaseline[e]):!0===h[s]&&"all-single-baseline"===a[r]?c.push(o.allSingleBaseline[e]):!0===h[s]?c.push(o.doubleBaseline[e]):"single-baseline"===a[r]?c.push(o.singleBaseline[e]):"all-single-baseline"===a[r]?c.push(o.allSingleBaseline[e]):"star"===a[r]?c.push(o.star[e]):"dash"===a[r]?c.push(o.dash[e]):"slash"===a[r]?c.push(o.slash[e]):"plus"===a[r]?c.push(o.plus[e]):c.push(o.space[e]),p+=e)}if(i)for(let e=0;e<i;e++){let e=o.charsPerCol;e>l-p&&(e=l-p),e>0&&("all-image-empty"===a[r]?c.push(o.allEmpty[e]):"image-empty"===a[r]?c.push(o.empty[e]):!0===h[s]&&"single-baseline"===a[r]?c.push(o.singleBaseline[e]):!0===h[s]&&"all-single-baseline"===a[r]?c.push(o.allSingleBaseline[e]):!0===h[s]&&"empty"===a[r]||!0===h[s]&&"all-empty"===a[r]?c.push(o.singleBaseline[e]):!0===h[s]?c.push(o.doubleBaseline[e]):"empty"===a[r]?c.push(o.empty[e]):"single-baseline"===a[r]?c.push(o.singleBaseline[e]):"all-single-baseline"===a[r]?c.push(o.allSingleBaseline[e]):"star"===a[r]?c.push(o.star[e]):"dash"===a[r]?c.push(o.dash[e]):"slash"===a[r]?c.push(o.slash[e]):"plus"===a[r]?c.push(o.plus[e]):"all-empty"===a[r]?c.push(o.empty[e]):c.push(o.space[e]),p+=o.charsPerCol),r++}let m=!1,g=!1,d=!1;if(0!==u)for(let t=0;t<u;t++){let i=o.charsPerCol*parseInt(e[t][1]);i>l-p&&(i=l-p);let n=e[t][0];"all-empty"===a[r]||a[r],n="/ "+n;for(let o=0;o<i;o++)1===o&&c.push("</span>"),!1!==e[t][3]&&1===o&&(c.push('<a href="'+e[t][3]+'" target="_blank">'),d=!0),!0===e[t][2]&&1===o&&(c.push('<span style="font-weight:bold">'),g=!0),p<l&&(n[o]?" "===n[o]?c.push("&nbsp;"):c.push(n[o]):(g&&(c.push("</span>"),g=!1),d&&(c.push("</a>"),d=!1),!0===h[s]&&!1===m?(c.push('<span role="presentation">&nbsp;'),m=!0):!0===h[s]?c.push("-"):c.push("&nbsp;"))),p+=1;g&&(c.push("</span>"),g=!1),d&&(c.push("</a>"),d=!1),!0===m&&(m=!1,c.push("</span>")),c.push('<span role="presentation">'),r+=parseInt(e[t][1])}if(n)for(let e=0;e<n;e++){let e=o.charsPerCol;e>l-p&&(e=l-p),e>0&&("all-image-empty"===a[r]?c.push(o.allEmpty[e]):"image-empty"===a[r]?c.push(o.empty[e]):!0===h[s]&&"single-baseline"===a[r]?c.push(o.singleBaseline[e]):!0===h[s]&&"all-single-baseline"===a[r]?c.push(o.allSingleBaseline[e]):!0===h[s]&&"empty"===a[r]||!0===h[s]&&"all-empty"===a[r]?c.push(o.singleBaseline[e]):!0===h[s]?c.push(o.doubleBaseline[e]):"single-baseline"===a[r]||"all-single-baseline"===a[r]?c.push(o.singleBaseline[e]):"dash"===a[r]?c.push(o.dash[e]):"empty"===a[r]?c.push(o.empty[e]):"star"===a[r]?c.push(o.star[e]):"slash"===a[r]?c.push(o.slash[e]):"plus"===a[r]?c.push(o.plus[e]):"all-empty"===a[r]?c.push(o.empty[e]):c.push(o.space[e]),p+=o.charsPerCol),r++}}}return c.push("</span>"),c.join("")}fixLargeBaselines(e,t,s,i,n){let l=this.context.dimensions;if(t>s){let o=t-s;if(!1===n)for(let s=0;s<o;s++){let n=parseInt(i*l.numCols+(l.numCols-t)+s);"image-empty"!==e[n]&&"all-image-empty"!==e[n]&&(e[n]="dash")}else for(let t=0;t<o;t++){let n=parseInt(i*l.numCols)+parseInt(t+s);"image-empty"!==e[n]&&"all-image-empty"!==e[n]&&(e[n]="dash")}}return e}doLayout(){let e=this.props.post,t=this.context.dimensions;if(0!==t.charsPerCol&&e&&this.containerRef)if(e.title!==this.state.projectTitle){-1!==this.state.maxScrollPos&&0!==this.state.maxChar&&this.saveTabs();let t=[];for(let e=0;e<3e3;e++)t[e]=-1;this.setState({projectTitle:e.title,screenWidth:0,screenHeight:0,contentWidth:0,contentHeight:0,remainingChars:0,numCols:0,charsPerCol:0,charsPerLine:0,curMediaTopBaselineIndex:0,captionBaselineIndex:[],baselineIndex:[],randCellsLayout:{},lineNums:"",titleStyle:{},subtitleStyle:{},signoffTopStyle:{},signoffBottomStyle:{},mediaStyles:[],mediaInnerStyles:[],mediaNumCols:[],captionPush:[],textStartLineIndex:0,textEndLineIndex:0,projectText:!1,projectMeta:!1,pauseCurLoop:0,pauseRender:!1,nextProjectHeadingIndex:0,nextProjectLinkIndex:0,lastLineIndex:0,linkElements:{},asciiBgHTML:[],pauseCurLoop:0,pauseRender:!1,randCells:this.setRandCells(),maxChar:0,scrollPos:-1,maxScrollPos:-1,startAnimationOffset:t,tabSlug:e.tab_slug,linesUsed:0,cover:!0,coverTransition:!1});let s=this.context.openTabs,i=this.getTabIndex(e.tab_slug);!1!==i?s[i]?!1!==s[i].scrollPos&&!1!==s[i].maxScrollPos&&!1!==s[i].maxChar?(this.setState({scrollPos:s[i].scrollPos,maxScrollPos:s[i].maxScrollPos,prevMaxScrollPos:s[i].maxScrollPos,maxChar:s[i].maxChar,randCells:s[i].randCells,cover:!0,coverTransition:!0}),setTimeout(()=>{this.doLayout()},0),setTimeout(()=>{this.containerRef.scrollTo(0,s[i].scrollPos),this.doScroll(!0)},0)):setTimeout(()=>{this.containerRef.scrollTo(0,0),this.doScroll()},40):setTimeout(()=>{this.containerRef.scrollTo(0,0),this.doScroll()},0):setTimeout(()=>{this.containerRef.scrollTo(0,0),this.doScroll()},0)}else if(t.remainingChars!==this.state.remainingChars||t.numCols!==this.state.numCols||t.charsPerCol!==this.state.charsPerCol||t.charsPerLine!==this.state.charsPerLine){let s=Array.from(this.state.randCells),i=[],n=0,l=[],o=[],a=[],h=Math.round((2*t.monoLineHeight+t.mediumFontSize)/t.monoLineHeight),r=Math.round(t.mediumLineHeight/t.monoLineHeight);for(let t=0;t<e.title.length;t++)i[h+r*t]=!0,n+=1;let c=this.getMediumBlockHeight(e.title.length,0),p=t.asciiLayoutWidth,u=h*t.monoLineHeight-t.mediumFontSize-t.sansOffset+t.monoLineHeight;o[0]=u-t.contentHeight;let m=Math.round((u+c+t.mediumLineHeight)/t.monoLineHeight);s=!1===t.contentMobile&&!1===t.contentTablet?this.clearRandCellsMediumBlock(s,u,0,t.asciiColWidth*e.title_desktop_columns,this.getMediumBlockHeight(e.title.length,0)):this.clearRandCellsMediumBlock(s,u,0,t.asciiColWidth*e.title_mobile_columns,this.getMediumBlockHeight(e.title.length,0));let g=Math.floor((t.contentHeight-t.monoLineHeight)/t.monoLineHeight),d=g-Math.round(t.largeLineHeight*e.subtitle.length/t.monoLineHeight);i[d]=!0,!0===t.portrait&&(d=d-Math.floor(t.largeSpace/t.monoLineHeight)+1,g=g-Math.floor(t.largeSpace/t.monoLineHeight)+1),d<m&&(g=m+Math.round(t.largeLineHeight*e.subtitle.length/t.monoLineHeight));let x=t.largeFontSize*e.subtitle.length+(t.largeLineHeight-t.largeFontSize)*(e.subtitle.length-1),f=Math.round((g+1)*t.monoLineHeight)-x-t.sansOffset;o[1]=f-t.contentHeight,t.largeFontSize,t.monoLineHeight,e.subtitle.length;for(let s=0;s<e.subtitle.length;s++)i[g-t.largeLineHeight/t.monoLineHeight*s]=!0;for(let l=0;l<e.subtitle.length;l++){let o=f+Math.round(t.largeLineHeight*l),a=g-t.largeLineHeight/t.monoLineHeight*l+Math.round(.3*t.largeFontSize/t.monoLineHeight);!1===t.contentMobile&&!1===t.contentTablet?(s=this.clearRandCellsLargeBlock(s,o,t.asciiColWidth*(t.numCols-e.subtitle[l].desktop_columns),t.asciiColWidth*e.subtitle[l].desktop_columns),0!==l&&(s=this.fixLargeBaselines(s,e.subtitle[l-1].desktop_columns,e.subtitle[l].desktop_columns,a,!1))):(s=this.clearRandCellsLargeBlock(s,o,t.asciiColWidth*(t.numCols-e.subtitle[l].mobile_columns),t.asciiColWidth*e.subtitle[l].mobile_columns),0!==l&&(s=this.fixLargeBaselines(s,e.subtitle[l-1].mobile_columns,e.subtitle[l].mobile_columns,a,!1))),l===e.subtitle.length-1&&(i[g+Math.round(.3*t.largeFontSize/t.monoLineHeight)]=!0),n+=1}let b=[],C=[],L=[],_=[],S=[],y=[],M=0,H=0,T=0,j=[],k=[],P=0;for(let n=0;n<e.media.length;n++){if(1===n){let s=0;if(M=T,e.client_desc){let i=e.client_desc.split(" ");S[s]=[],S[s].text=" ",S[s].bold=!1,S[s].url=!1,S[s].background=!1;let n=0;for(let e=0;e<i.length;e++)S[s].text.length+i[e].length>t.wideTextBlockNumChars||S[s].text.length>Math.round(.8*t.wideTextBlockNumChars)&&e===i.length-2?(S[++s]=[],S[s].text="  "+i[e],S[s].bold=!1,S[s].url=!1,S[s].background=!1,n=2+i[e].length):(S[s].text=S[s].text+" "+i[e],n=n+1+i[e].length)}s++,S[++s]=[],S[s].text="  "+e.info_heading,S[s].bold=!0,S[s].url=!1,S[s].background=!1;for(let i=0;i<e.info_bullets.length;i++){s++;let n=e.info_bullets[i].text.split(" ");S[s]=[],S[s].text="—",S[s].bold=!1,S[s].url=!1,S[s].background=!1;for(let e=0;e<n.length;e++)S[s].text.length+n[e].length>t.wideTextBlockNumChars||S[s].text.length>Math.round(.8*t.wideTextBlockNumChars)&&e===n.length-2?(S[++s]=[],S[s].text="  "+n[e],S[s].bold=!1,S[s].url=!1,S[s].background=!1):S[s].text=S[s].text+" "+n[e]}if(H=M+ ++s,!0===t.contentMobile||!0===t.contentTablet){S[s]=[],S[s].text=" ",S[s].bold=!1,S[s].url=!1,S[s].background=!1,s++;for(let i=0;i<e.meta.length;i++){S[s]=[],S[s].text="  "+e.meta[i].heading,S[s].bold=!0,S[s].url=!1,S[s].background=!1,S[++s]=[],S[s].text="  "+e.meta[i].text,S[s].bold=!1,S[s].url=e.meta[i].url,S[s].background=!1;let n=[];n.url=e.meta[i].url,n.height=2*t.monoLineHeight,n.top=(s+M-1)*t.monoLineHeight,n.previewTop=n.top,n.preview=0,n.title="Visit "+e.meta[i].heading,l.push(n),i!==e.meta.length-1&&(S[++s]=[],S[s].text=" ",S[s].bold=!1,S[s].url=!1,S[s].background=!1,s++)}H=++s+M}else{s=0;for(let i=0;i<e.meta.length;i++){y[s]=[],y[s].text="  "+e.meta[i].heading,y[s].bold=!0,y[s].url=!1,y[s].background=!1,y[++s]=[],y[s].text="  "+e.meta[i].text,y[s].bold=!1,y[s].url=e.meta[i].url,y[s].background=!1;let n=[];n.url=e.meta[i].url,n.height=2*t.monoLineHeight,n.top=(s+M-1)*t.monoLineHeight,n.previewTop=n.top,n.preview=0,n.title="View "+e.meta[i].heading,l.push(n),i!==e.meta.length-1&&(s++,s++)}H<s+M&&(H=s+M)}T=H+Math.round(t.mediaSpace/t.monoLineHeight),L[n]=T-(_[n-1]-1)}else 0!==n&&(L[n]=T-(_[n-1]-1));let o=parseFloat(e.media[n].mobile_columns_wide),h=parseFloat(e.media[n].mobile_columns_push);!1===t.contentTablet&&!1===t.contentMobile?(o=parseFloat(e.media[n].desktop_columns_wide),h=parseFloat(e.media[n].desktop_columns_push)):t.contentMobile&&(o=5,h=0);let r=t.numCols-h-o;j[n]=o,k[n]=h;let c=Math.round(e.media[n].media_height/e.media[n].media_width*t.mediaWidths[o])+t.mediaWindowChromeHeights[o],p=Math.ceil(c/t.monoLineHeight),u=Math.round(p*t.monoLineHeight-c);0===n&&(t.portrait?T=m+Math.round(t.mediaSpace/t.monoLineHeight):(T=Math.round(.5*t.contentHeight/t.monoLineHeight)-Math.floor(p/2))<4&&(T=4),L[n]=T);let g=p+2;b[n]={width:Math.round(t.mediaWidths[o])+"px",height:Math.round(p*t.monoLineHeight)+"px",marginTop:L[n]*t.monoLineHeight+"px",marginRight:Math.round(t.mediaRightOffsets[r])+"px"},P+=L[n]*t.monoLineHeight,a[n]=P-Math.round(.8*t.contentHeight),P+=Math.round(p*t.monoLineHeight),C[n]={height:c+"px",marginTop:u+"px"};for(let e=T;e<T+g-1;e++)for(let n=0;n<t.numCols;n++){let l=e*t.numCols+n;n===h?s[l]="image-empty":n>h&&n<h+o&&(s[l]="all-image-empty"),i[e]}i[T-1]=!0,T+=g,_[n]=T-1,i[_[n]]=!0,T+=Math.round(t.mediaSpace/t.monoLineHeight)}let B=T-Math.round(t.mediaSpace/t.monoLineHeight)-1,v=B-Math.round(.3*t.largeFontSize/t.monoLineHeight);i[v-Math.round(t.largeLineHeight*(e.signoff_top.length+e.signoff_bottom.length)/t.monoLineHeight)]=!0;let I=t.largeFontSize*e.signoff_bottom.length+(t.largeLineHeight-t.largeFontSize)*(e.signoff_bottom.length-1),R=Math.round((v+1)*t.monoLineHeight)-I-t.sansOffset,N={top:R+"px",right:0,height:I+"px",width:Math.round(t.asciiColWidth*t.numCols)},W=t.largeFontSize*e.signoff_top.length+(t.largeLineHeight-t.largeFontSize)*(e.signoff_top.length-1),w=R-Math.round(e.signoff_top.length*t.largeLineHeight);o[2]=w-Math.round(.8*t.contentHeight);let F={top:w+"px",right:0,height:W+"px",width:Math.round(t.asciiColWidth*t.numCols)};for(let s=0;s<e.signoff_top.length+e.signoff_bottom.length;s++)i[v-t.largeLineHeight/t.monoLineHeight*s]=!0;for(let i=0;i<e.signoff_top.length;i++){let n=w+Math.round(t.largeLineHeight*i),l=B-t.largeLineHeight/t.monoLineHeight*(e.signoff_top.length-i+e.signoff_bottom.length);!1===t.contentMobile&&!1===t.contentTablet?(s=this.clearRandCellsLargeBlock(s,n,Math.round(t.asciiColWidth*t.numCols-t.asciiColWidth*e.signoff_top[i].desktop_columns),Math.round(t.asciiColWidth*e.signoff_top[i].desktop_columns)),0!==i&&(s=this.fixLargeBaselines(s,e.signoff_top[i-1].desktop_columns,e.signoff_top[i].desktop_columns,l,!1))):(s=this.clearRandCellsLargeBlock(s,n,Math.round(t.asciiColWidth*t.numCols-t.asciiColWidth*e.signoff_top[i].mobile_columns),Math.round(t.asciiColWidth*e.signoff_top[i].mobile_columns)),0!==i&&(s=this.fixLargeBaselines(s,e.signoff_top[i-1].mobile_columns,e.signoff_top[i].mobile_columns,l,!1)))}for(let n=0;n<e.signoff_bottom.length;n++){let l=R+Math.round(t.largeLineHeight*n),o=B-t.largeLineHeight/t.monoLineHeight*(e.signoff_bottom.length-n);!1===t.contentMobile&&!1===t.contentTablet?(s=this.clearRandCellsLargeBlock(s,l,0,Math.round(t.asciiColWidth*e.signoff_bottom[n].desktop_columns)),0!==n&&(s=this.fixLargeBaselines(s,e.signoff_bottom[n-1].desktop_columns,e.signoff_bottom[n].desktop_columns,o,!0))):(s=this.clearRandCellsLargeBlock(s,l,0,Math.round(t.asciiColWidth*e.signoff_bottom[n].mobile_columns)),0!==n&&(s=this.fixLargeBaselines(s,e.signoff_bottom[n-1].mobile_columns,e.signoff_bottom[n].mobile_columns,o,!0))),n===e.signoff_bottom.length-1&&(i[v+Math.round(.3*t.largeFontSize/t.monoLineHeight)]=!0)}let z=T+1,E=z+1,A=[];A.url=e.next_url,A.height=2*t.monoLineHeight,A.top=(E-1)*t.monoLineHeight,A.previewTop=A.top+t.monoLineHeight,A.preview=1,A.title="View "+e.next_title,l.push(A);let O=E+Math.round(t.largeSpace/t.monoLineHeight),D=[];for(let e=1;e<O+1;e++)1!==e?D.push("<br />"+e):D.push(e);this.setState({screenWidth:t.screenWidth,screenHeight:t.screenHeight,contentWidth:t.contentWidth,contentHeight:t.contentHeight,remainingChars:t.remainingChars,numCols:t.numCols,charsPerCol:t.charsPerCol,charsPerLine:t.charsPerLine,curMediaTopBaselineIndex:T,captionBaselineIndex:_,baselineIndex:i,randCellsLayout:s,lineNums:D,titleStyle:{top:u+"px",left:"100%",height:c+"px",marginLeft:0-p+"px"},subtitleStyle:{top:f+"px",right:0,height:x+"px"},signoffTopStyle:F,signoffBottomStyle:N,mediaStyles:b,mediaInnerStyles:C,mediaNumCols:j,captionPush:k,textStartLineIndex:M,textEndLineIndex:H,projectText:S,projectMeta:y,pauseCurLoop:0,pauseRender:!1,nextProjectHeadingIndex:z,nextProjectLinkIndex:E,lastLineIndex:O,linkElements:l,sansTypeLoad:o,mediaLoad:a})}else{let s=[],i=0;for(let n=0;n<this.state.lastLineIndex;n++){let l=!1;for(let o=0;o<this.state.captionBaselineIndex.length;o++)this.state.captionBaselineIndex[o]===n&&e.media[o].caption&&(s.push(this.getSingleLine("— "+e.media[o].caption,!1,!1,i,this.state.captionPush[o],this.state.mediaNumCols[o],t.numCols-this.state.mediaNumCols[o]-this.state.captionPush[o])),l=!0);if(n>=this.state.textStartLineIndex&&n<=this.state.textEndLineIndex){let e=n-this.state.textStartLineIndex;!0===t.contentMobile||!0===t.contentTablet?this.state.projectText[e]?s.push(this.getCell([[this.state.projectText[e].text,5,this.state.projectText[e].bold,this.state.projectText[e].url]],!0,i,0,0,!1)):s.push(this.getBlankCell(t.numCols,!0,i)):this.state.projectText[e]&&this.state.projectMeta[e]?s.push(this.getCell([[this.state.projectText[e].text,3,this.state.projectText[e].bold,!1],[this.state.projectMeta[e].text,1,this.state.projectMeta[e].bold,this.state.projectMeta[e].url]],!0,i,1,1,!1)):this.state.projectText[e]?s.push(this.getCell([[this.state.projectText[e].text,3,this.state.projectText[e].bold,!1]],!0,i,1,2,!1)):this.state.projectMeta[e]?s.push(this.getCell([[this.state.projectMeta[e].text,1,this.state.projectMeta[e].bold,this.state.projectMeta[e].url]],!0,i,4,1,!1)):s.push(this.getBlankCell(t.numCols,!0,i))}else n===this.state.nextProjectHeadingIndex?!0===t.contentMobile?s.push(this.getSingleLine("  Next Project",!0,!1,i,0,Math.ceil(16/t.charsPerCol),t.numCols-Math.ceil(14/t.charsPerCol))):!0===t.contentTablet?s.push(this.getSingleLine("  Next Project",!0,!1,i,e.next_push_mobile,Math.ceil(16/t.charsPerCol),t.numCols-e.next_push_mobile-Math.ceil(14/t.charsPerCol))):s.push(this.getSingleLine("  Next Project",!0,!1,i,e.next_push_desktop,Math.ceil(16/t.charsPerCol),t.numCols-e.next_push_desktop-Math.ceil(14/t.charsPerCol))):n===this.state.nextProjectLinkIndex?!0===t.contentMobile?s.push(this.getSingleLine("→ "+e.next_title,!1,e.next_url,i,0,Math.ceil((4+e.next_title.length)/t.charsPerCol),t.numCols-Math.ceil((2+e.next_title.length)/t.charsPerCol))):!0===t.contentTablet?s.push(this.getSingleLine("→ "+e.next_title,!1,e.next_url,i,e.next_push_mobile,Math.ceil((2+e.next_title.length)/t.charsPerCol),t.numCols-e.next_push_mobile-Math.ceil((4+e.next_title.length)/t.charsPerCol))):s.push(this.getSingleLine("→ "+e.next_title,!1,e.next_url,i,e.next_push_desktop,Math.ceil((2+e.next_title.length)/t.charsPerCol),t.numCols-e.next_push_desktop-Math.ceil((4+e.next_title.length)/t.charsPerCol))):!1===l&&s.push(this.getBlankCell(t.numCols,!0,i));s.push("<br />"),i++}s.join("")!==this.state.asciiBgHTML.join("")&&this.containerInnerRef&&(this.setState({asciiBgHTML:s,pauseCurLoop:0,pauseRender:!1,containerHeight:this.containerInnerRef.clientHeight}),!0===this.state.cover&&setTimeout(()=>{this.setState({cover:!1})},100))}}render(){let e=this.props.post,t=this.context.dimensions;return(0,i.jsx)(i.Fragment,{children:this.state.layoutReady&&(0,i.jsx)("div",{className:"c-page "+(this.state.smoothScroll?"state-smooth":""),ref:e=>this.containerRef=e,children:(0,i.jsx)("div",{className:"c-page__inner",ref:e=>this.containerInnerRef=e,children:this.state.lineNums&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"c-page__lines-column",dangerouslySetInnerHTML:{__html:'<p class="c-mono-type c-mono-type--line-nums">'+this.state.lineNums.join("")+"</p>"}}),(0,i.jsx)("div",{className:"c-page__content-column",children:(0,i.jsxs)("div",{className:"c-page__background",style:{width:t.totalAsciiLayoutWidth+"px"},children:[(0,i.jsx)("h1",{className:"c-sans c-sans--color-2",style:this.state.titleStyle,children:(0,i.jsx)(p.A,{text:e.title,lineStyle:t.mediumLineStyle,check:e.title,load:this.state.maxScrollPos>this.state.sansTypeLoad[0],forceLoad:this.state.prevMaxScrollPos>this.state.sansTypeLoad[0],elID:"project-heading"})}),(0,i.jsx)("h2",{className:"c-sans c-sans--large c-sans--right c-sans--color-faded",style:this.state.subtitleStyle,children:(0,i.jsx)(p.A,{text:e.subtitle,lineStyle:t.largeLineStyle,check:e.title,load:this.state.maxScrollPos>this.state.sansTypeLoad[1],forceLoad:this.state.prevMaxScrollPos>this.state.sansTypeLoad[1],elID:"project-subheading"})}),(0,i.jsx)("p",{className:"c-sans c-sans--large c-sans--right c-sans--color-faded",style:this.state.signoffTopStyle,role:"presentation",children:(0,i.jsx)(p.A,{text:e.signoff_top,lineStyle:t.largeLineStyle,check:e.title,load:this.state.maxScrollPos>this.state.sansTypeLoad[2],forceLoad:this.state.prevMaxScrollPos>this.state.sansTypeLoad[2],elID:"project-signoff-top"})}),(0,i.jsx)("p",{className:"c-sans c-sans--large c-sans--color-faded",style:this.state.signoffBottomStyle,role:"presentation",children:(0,i.jsx)(p.A,{text:e.signoff_bottom,lineStyle:t.largeLineStyle,check:e.title,load:this.state.maxScrollPos>this.state.sansTypeLoad[2],forceLoad:this.state.prevMaxScrollPos>this.state.sansTypeLoad[2],elID:"project-signoff-bottom"})}),!1===this.state.cover&&(0,i.jsx)("div",{className:"c-page__project-media",style:t.mediaContainerStyle,children:e.media&&(0,i.jsx)(i.Fragment,{children:e.media.map((e,t)=>(0,i.jsx)("div",{className:"c-media",style:this.state.mediaStyles[t],children:(0,i.jsx)("div",{className:"c-media__inner",style:this.state.mediaInnerStyles[t],children:(0,i.jsx)(c.A,{gallery:e.slides,columnsWide:this.state.mediaNumCols[t],delay:e.speed,loop:"repeat"===e.loop,autoChange:!0,loadDelay:e.load_delay,playDelay:e.play_delay,forceSlide:!1,forceLoad:this.state.prevMaxScrollPos>this.state.mediaLoad[t],alt:e.caption})})},t))})}),(0,i.jsx)("pre",{className:"c-ascii",dangerouslySetInnerHTML:{__html:this.state.asciiBgHTML.join("")}})]})}),(0,i.jsx)(u.A,{linkElements:this.state.linkElements,gallery:e.previews}),(0,i.jsx)("div",{className:"c-page__cover "+(this.state.cover?"state-show":"state-hide")+" "+(this.state.coverTransition?"state-transition":"")})]})})})})}constructor(){super(),this.state={tabSlug:"",projectTitle:"",curFrame:0,randCells:[],scrollPos:0,maxScrollPos:-1,prevMaxScrollPos:-9999,startAnimationOffset:[],maxChar:0,screenWidth:0,screenHeight:0,contentWidth:0,contentHeight:0,containerHeight:0,remainingChars:0,numCols:0,charsPerCol:0,charsPerLine:0,curMediaTopBaselineIndex:0,captionBaselineIndex:[],baselineIndex:[],randCellsLayout:[],lineNums:"",titleStyle:{},subtitleStyle:{},signoffTopStyle:{},signoffBottomStyle:{},mediaStyles:[],mediaInnerStyles:[],mediaNumCols:[],captionPush:[],asciiBgHTML:[],textStartLineIndex:0,textEndLineIndex:0,projectText:!1,projectMeta:!1,layoutReady:!1,pauseRender:!1,pauseMaxCheckLoops:10,pauseCurLoop:0,nextProjectHeadingIndex:0,nextProjectLinkIndex:0,linkElements:[],lastLineIndex:0,smoothScroll:!1,sansTypeLoad:[],mediaLoad:[],linesUsed:0,cover:!0,coverTransition:!1},this.saveTabs=this.saveTabs.bind(this),this.getTabIndex=this.getTabIndex.bind(this),this.getMediumBlockHeight=this.getMediumBlockHeight.bind(this),this.clearRandCellsMediumBlock=this.clearRandCellsMediumBlock.bind(this),this.clearRandCellsLargeBlock=this.clearRandCellsLargeBlock.bind(this),this.getBlankCell=this.getBlankCell.bind(this),this.getCell=this.getCell.bind(this),this.getSingleLine=this.getSingleLine.bind(this),this.setRandCells=this.setRandCells.bind(this),this.doScroll=this.doScroll.bind(this),this.doLayout=this.doLayout.bind(this),this.doReadyCheck=this.doReadyCheck.bind(this),this.fixLargeBaselines=this.fixLargeBaselines.bind(this)}}m.contextType=h.D;class g extends n.Component{onMouseMove(e){!0===this.context.touch&&!1===this.context.touchFired&&("mouse"===e.pointerType||void 0===e.pointerType)&&(document.documentElement.classList.add("state-mouse-events"),this.context.setTouch(!1))}onTouchStart(){!1===this.context.touchFired&&(document.documentElement.classList.remove("state-mouse-events"),this.context.setTouchFired())}render(){let e=this.props.post;this.props.global;let t=this.context.dimensions;return(0,i.jsxs)("div",{className:"c-gui__panel c-gui__panel--main",onMouseMove:this.onMouseMove,onTouchStart:this.onTouchStart,style:{width:t.contentWidth+"px",height:t.mainWindowHeight+"px"},children:[(0,i.jsx)(r.A,{post:e,error:!1}),(0,i.jsx)("main",{className:"c-gui__panel__content",children:(0,i.jsx)(m,{post:e})})]})}constructor(e){super(e),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this)}}g.contextType=h.D,s(6006);var d=!0;let x=function(e){let{data:t,globalData:s}=e;if(!t||!s)return null;{(0,l.useRouter)();let e=t[0],n=s[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[e.page_title&&(0,i.jsx)("title",{children:e.page_title}),!e.page_title&&(0,i.jsx)("title",{children:"Fine Thought"}),e.page_description&&(0,i.jsx)("meta",{name:"description",content:e.page_description}),e.canonical_url&&(0,i.jsx)("link",{href:e.canonical_url,rel:"canonical"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/awl2qrt.css"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, interactive-widget=resizes-content"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"57x57",href:"https://finethought.com.au/icons/apple-icon-57x57.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"60x60",href:"https://finethought.com.au/icons/apple-icon-60x60.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"72x72",href:"https://finethought.com.au/icons/apple-icon-72x72.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"76x76",href:"https://finethought.com.au/icons/apple-icon-76x76.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"114x114",href:"https://finethought.com.au/icons/apple-icon-114x114.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"120x120",href:"https://finethought.com.au/icons/apple-icon-120x120.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"144x144",href:"https://finethought.com.au/icons/apple-icon-144x144.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:"https://finethought.com.au/icons/apple-icon-152x152.png"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"https://finethought.com.au/icons/apple-icon-180x180.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"https://finethought.com.au/icons/android-icon-192x192.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"https://finethought.com.au/icons/favicon-32x32.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"96x96",href:"https://finethought.com.au/icons/favicon-96x96.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"https://finethought.com.au/icons/favicon-16x16.png"}),(0,i.jsx)("link",{rel:"manifest",href:"https://finethought.com.au/icons/manifest.json"}),(0,i.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"}),(0,i.jsx)("meta",{name:"msapplication-TileImage",content:"https://finethought.com.au/icons/ms-icon-144x144.png"}),(0,i.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),(0,i.jsx)(g,{post:e,global:n})]})}}},9924:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[slug]",function(){return s(7152)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[104,231,636,593,792],()=>t(9924)),_N_E=e.O()}]);