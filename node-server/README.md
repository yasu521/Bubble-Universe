# Bubble Universe - Enhanced Node.js Version

## 概要
このプロジェクトは、「Bubble Universe」のインタラクティブなウェブエクスペリエンスを Node.js を使用して実装したバージョンです。オリジナルの HTML/CSS/JavaScript 実装での表示問題（テキストが見えない問題）を解決するために作成されました。

## 特徴
- Node.js と Express を使用したサーバーサイドレンダリング
- EJS テンプレートエンジンによる柔軟なレイアウト
- Three.js によるリッチなドーナツトランジションアニメーション
- インタラクティブなバブルアニメーション
- レスポンシブデザイン
- スクロールベースのアニメーション
- デバッグモード機能

## テキスト表示問題の解決策
オリジナルバージョンで発生していたテキストが見えない問題は、以下の改善により解決されています：

1. **新しいスタッキングコンテキスト設計**: z-index の値を CSS カスタムプロパティで管理し、論理的な階層を保証
2. **visibility と opacity の統一**: 表示制御の一貫性を確保
3. **ポインターイベントの適切な設定**: 背景要素のクリックスルー保証
4. **最適化された DOM 構造**: コンテンツとアニメーション要素の適切な配置
5. **フォーカスされたデバッグ機能**: 問題の特定と解決を容易にするデバッグモード

## インストール方法

```bash
# プロジェクトディレクトリに移動
cd "/Users/yasuhiro/Downloads/Bubble Universe/node-server"

# 依存パッケージのインストール
npm install

# サーバーの起動
npm start
```

## 使用方法
1. ブラウザで `http://localhost:3000` にアクセス
2. ウェルカム画面の「エクスペリエンスを開始」ボタンをクリック
3. ドーナツトランジションアニメーション後、コンテンツページが表示されます
4. 「ウェルカムページへ戻る」ボタンでウェルカム画面に戻ることができます

## デバッグモード
右上の「デバッグモード切替」ボタンをクリックすると、レイヤーの境界や Z-index 情報を確認できます。問題が発生した場合に便利です。

## 技術構成
- **フロントエンド**: HTML, CSS, JavaScript, Three.js
- **バックエンド**: Node.js, Express
- **テンプレートエンジン**: EJS
- **アニメーション**: CSS アニメーション, JavaScript アニメーション, Three.js

## ファイル構造
- `server.js`: メインサーバーファイル
- `views/`: EJS テンプレート
  - `index.ejs`: メインページ
- `public/`: 静的ファイル
  - `css/`: スタイルシート
  - `js/`: JavaScript ファイル

## 作者
Enhanced Bubble Universe Team
